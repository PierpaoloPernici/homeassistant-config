- id: terrazzo_on
  alias: Luce Terrazzo ON
  trigger:
  - event: sunset
    offset: +00:15:00
    platform: sun
  action:
  - entity_id: switch.terrazzo
    service: homeassistant.turn_on
- id: terrazzo_off
  alias: Luce Terrazzo OFF
  trigger:
  - platform: time
    at: 00:30:00
  action:
    service: homeassistant.turn_off
    entity_id: switch.terrazzo
- id: Update_Notify
  alias: Update Available Notifications
  trigger:
    platform: state
    entity_id: updater.updater
  action:
    service: notify.pcube_bot
    data:
      message: Update for Home Assistant is available.
- id: bad_logins
  alias: Login Failure
  hide_entity: true
  trigger:
    platform: template
    value_template: '{{ states(''persistent_notification.httplogin'') != ''authentication''
      }}'
  action:
    service: notify.pcube_bot
    data:
      message: Bad Login.. There was a Hack attempt! Go Check the GUI for details.
- id: hass_start
  alias: Home Assistant Start - Notify
  trigger:
    platform: homeassistant
    event: start
  action:
    service: notify.pcube_bot
    data:
      message: Home Assistant Start at {{ states('sensor.time__date') }}
- id: hass_stop
  alias: Home Assistant Stop - Notify
  trigger:
    platform: event
    event_type: homeassistant_stop
  action:
    service: notify.pcube_bot
    data:
      message: Home Assistant Stop at {{ states('sensor.time__date') }}
- id: cotanza_home
  alias: Costanza at Home - Notification
  trigger:
    platform: state
    from: not_home
    to: home
    entity_id: device_tracker.costanza_icostanza
  action:
    service: notify.pcube_bot
    data:
      message: Costanza is at Home at {{ states('sensor.time__date') }}
- id: costanza_out_home
  alias: Costanza Outside Home - Notification
  trigger:
    platform: state
    from: home
    to: not_home
    entity_id: device_tracker.costanza_icostanza
  action:
    service: notify.pcube_bot
    data:
      message: Costanza is going out at {{ states('sensor.time__date') }}
- id: Pier_home
  alias: Pier at Home - Notification
  trigger:
    platform: state
    entity_id: device_tracker.pier_ipier
    from: not_home
    to: home
  action:
    service: notify.pcube_bot
    data:
      message: Pier is at Home at {{ states('sensor.time__date') }}
- id: Pier_out_home
  alias: Pier is going out - Notification
  trigger:
    platform: state
    entity_id: device_tracker.pier_ipier
    from: home
    to: not_home
  action:
    service: notify.pcube_bot
    data:
      message: Pier is going out from {{ trigger.to_state.state }} at  {{ states('sensor.time__date')
        }}
